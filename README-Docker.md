# Запуск через Docker

## Быстрый старт

1. **Скопируйте пример конфигурации:**
   ```bash
   cp env-example-docker .env
   ```

2. **Заполните переменные в `.env`:**
   Откройте файл `.env` и укажите:
   - `TOKEN` - токен вашего бота от @BotFather
   - `CHAT_ID` - ID группы Telegram
   - `GROUP_ID` - номер учебной группы
   - `ADMIN_COMMANDS_ACCESS` - ID администраторов через запятую

3. **Запустите бота:**
   ```bash
   docker-compose up -d
   ```

## Команды управления

```bash
# Запуск в фоне
docker-compose up -d

# Просмотр логов
docker-compose logs -f

# Остановка
docker-compose down

# Пересборка образа
docker-compose build --no-cache

# Полная пересборка и запуск
docker-compose up --build -d
```

## Структура файлов

- `Dockerfile` - инструкции для сборки контейнера
- `docker-compose.yml` - конфигурация сервиса
- `.dockerignore` - исключения для контекста сборки
- `env-example-docker` - пример конфигурации переменных окружения

## Volumes

Контейнер использует volumes для:
- `db.sqlite3` - база данных (сохраняется между перезапусками)
- `logs/` - директория для логов (опционально)

## Переменные окружения

Все настройки бота передаются через переменные окружения. Основные:

| Переменная | Описание | Пример |
|------------|----------|--------|
| `TOKEN` | Токен бота | `123456:ABC...` |
| `CHAT_ID` | ID группы | `-12345` |
| `GROUP_ID` | Номер группы | `111111` |
| `ADMIN_COMMANDS_ACCESS` | ID админов | `123,1234` |

Полный список переменных смотрите в `env-example-docker`.

## Troubleshooting

**Бот не запускается:**
- Проверьте заполнение всех обязательных переменных в `.env`
- Убедитесь, что токен бота корректный
- Проверьте логи: `docker-compose logs`

**База данных не сохраняется:**
- Убедитесь, что файл `db.sqlite3` существует в корне проекта
- Проверьте права доступа к файлу

**Проблемы с сетью:**
- Убедитесь, что бот имеет доступ в интернет для работы с Telegram API
